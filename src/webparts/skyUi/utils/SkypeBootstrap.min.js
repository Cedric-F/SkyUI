!function(){var e={platformId:905,urls:["https://a.config.skype.com","https://b.config.skype.com"],team:"SkypeLyncWebExperience",maximumAttempts:3,waitDuration:6e3};window.Skype=window.Skype||{};var n="1.2.15";!function(e){"use strict";function i(e,n){var t=e;return n=void 0===n?1:n,"object"!=typeof t&&(t={message:e||"unknown error"}),void 0===t.code&&(t.code=n),t}function a(e){return i(e,0)}e.getVersion=function(){return n},e.initialize=function(n,u,s){function f(e){s&&s(i(e))}function p(e){return r.isSupported(window)?e.packageUrl:e.packageUrlUnsupportedBrowser?e.packageUrlUnsupportedBrowser:void f(a("This browser is unsupported"))}function d(t){if(t.packageUrl){var r=(new Date).getTime(),i={};e.onExperienceLoaded=function(i){var o=(new Date).getTime();i.init({initParams:n,config:t,configLoadDuration:r-g,packageLoadDuration:o-r},u,f),delete e.onExperienceLoaded},t.corsScript&&(i.crossOrigin=""),c.loadScript(p(t),null,f,i)}else f(a("No package definition found for this config"))}var g=(new Date).getTime();(function(e){if(null==e)throw"No settings provided"})(n),function(e){if("function"!=typeof e)throw"Success callback was not provided"}(u),n.fingerprint=n.userId||(n.correlationIds?n.correlationIds.userId:null),n.fingerprint=n.fingerprint||o.get(window),t.loadConfig(n,function(e){d(e)},f)}}(window.Skype);var t=function(){"use strict";function t(n){var t=[];return e&&e.urls&&(t=function(e,n){for(var t=[],r={apikey:n.apiKey,fingerprint:n.fingerprint,ecsoverride:i.get(window)},a=0;a<e.length;a++)t.push(o(e[a],r));return t}(e.urls,n)),t}function r(){for(var t=n.split(".",4);t.length<4;)t.push(0);return e.platformId+"_"+t.join(".")}function o(n,t){var i=n+"/config/v1/"+e.team+"/"+r(),o=function(e){var n,t,r=[];for(n in e)e.hasOwnProperty(n)&&void 0!==(t=e[n])&&r.push([n,t].join("="));return r.join("&")}(t),a=i;return o&&(a+="?"+o),a}var c=2;return{loadConfig:function(n,r,i){function o(e){l++,!1===n.jsonp?a.request(e,s,f):u.request(e,"onConfigurationLoaded",s,f,"ecsConfig")}function s(t){var o,a;if(!p){if(p=!0,"string"==typeof t)try{o=JSON.parse(t)}catch(e){}else o=t;(a=o&&o[e.team])?(a.configIds=function(n){var t=n.ConfigIDs&&n.ConfigIDs[e.team];return t?t.split(/\s*,\s*/):[]}(o),a.eTag=o.Headers&&o.Headers.ETag||"",r&&r(a)):i&&i("Configuration service did not find any configuration that matches parameters or configuration service response is invalid",n)}}function f(){l/d.length>=(e.maximumAttempts||c)?i&&i("Configuration service is unreachable"):o(d[++g%d.length])}var p,d,g,l=0;return n&&n.apiKey?(d=t(n))&&d.length?(g=Math.floor(Math.random()*d.length),void o(d[g])):void(i&&i("No configuration service endpoints have been defined")):void(i&&i("API key was not provided"))}}}(),r=function(){"use strict";return{isSupported:function(e){return!!function(e){return e.navigator.userAgent.indexOf("SkypeShell")>-1}(e)||!function(e){var n=function(e){var n=-1,t=e.navigator.userAgent||"";return t.indexOf("Chrome/")>-1&&t.indexOf("Safari/")>-1&&-1===t.indexOf("Edge/")&&new RegExp("Chrome/([0-9]{1,}[.0-9]{0,})").exec(t)&&(n=parseFloat(RegExp.$1)),n}(e);return n>-1&&43>n}(e)&&!function(e){var n=function(e){var n=-1,t=e.navigator.userAgent||"";return t.indexOf("Firefox/")>-1&&t.indexOf("Gecko/")>-1&&-1===t.indexOf("Opera")&&new RegExp("Firefox/([0-9]{1,}[.0-9]{0,})").exec(t)&&(n=parseFloat(RegExp.$1)),n}(e);return n>-1&&40>n}(e)&&!function(e){var n=function(e){var n=-1,t=e.navigator.userAgent||"";return"Microsoft Internet Explorer"===(e.navigator.appName||"")&&new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(n=parseFloat(RegExp.$1)),n}(e);return n>-1&&10>n}(e)&&!function(e){var n=function(e){var n=-1,t=e.navigator.userAgent||"";return t.indexOf("Safari/")>-1&&-1===t.indexOf("Chrome")&&new RegExp("Version/([0-9]{1,}[.0-9]{0,})").exec(t)&&(n=parseFloat(RegExp.$1)),n}(e);return n>-1&&8>n}(e)}}}(),i=function(){"use strict";var e="ecsoverride",n="\\b"+e+"=([^&]+)",t="\\b"+e+"=([^;]+)";return{get:function(e){var r=(e=e||window).location.search.match(new RegExp(n,"i"));return r&&r[1]?r[1]:(r=e.document.cookie.match(new RegExp(t,"i")))&&r[1]?r[1]:void 0}}}(),o=function(){"use strict";var e="skype.fingerprint";return{get:function(n){var t;n=n||window;try{t=n.localStorage.getItem(e)}catch(e){}if(!t){t=("0000000"+Date.now().toString(16)).slice(-8)+"-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.floor(16*Math.random());return("x"===e?n:8+n%4).toString(16)});try{n.localStorage.setItem(e,t)}catch(e){}}return t}}}(),a=function(n){"use strict";return{request:function(t,r,i){if(!t)throw"URL parameter was not provided";var o,a=function(){n.clearTimeout(o),i&&(i(),i=null,r=null)},u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&(200===u.status?(n.clearTimeout(o),r&&r(u.responseText)):a())},u.open("GET",t,!0),u.send(),o=n.setTimeout(a,e.timeout||2e4)}}}(window),u=function(n){"use strict";var t=function(){};return{request:function(r,i,o,a,u){if(!r||!i)throw"URL or callback name was not provided";var s,f,p=function(){n.clearTimeout(f),a&&(a(),a=null,o=null)};s=r+(/\?/.test(r)?"&":"?")+"callback=Skype."+i,n.Skype[i]=function(){n.clearTimeout(f),o&&o.apply(null,arguments)},c.loadScript(s,t,p,{id:u}),f=n.setTimeout(p,e.timeout||2e4)}}}(window),c=function(){"use strict";return{loadScript:function(e,n,t,r){var i=document.createElement("script");for(var o in r=r||{},i.src=e,i.type="text/javascript",i.defer=!0,n&&(i.onload=n),t&&(i.onerror=t),r)void 0!==r[o]&&(i[o]=r[o]);document.getElementsByTagName("head")[0].appendChild(i)}}}()}();
